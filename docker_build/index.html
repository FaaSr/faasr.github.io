
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://faasr.io/docker_build/">
      
      
        <link rel="prev" href="../pull_requests/">
      
      
        <link rel="next" href="../about/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Building containers - FaaSr - Serverless workflows made easy</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.618322db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#process-for-building-docker-containers" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="FaaSr - Serverless workflows made easy" class="md-header__button md-logo" aria-label="FaaSr - Serverless workflows made easy" data-md-component="logo">
      
  <img src="../assets/faasr_logo.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            FaaSr - Serverless workflows made easy
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Building containers
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../tutorial/" class="md-tabs__link">
        
  
  
    
  
  Tutorial

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../prog_model/" class="md-tabs__link">
          
  
  
  User Documentation

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../pull_requests/" class="md-tabs__link">
          
  
  
  Dev Documentation

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../about/" class="md-tabs__link">
        
  
  
    
  
  About

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../community/" class="md-tabs__link">
        
  
  
    
  
  Community

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../contact/" class="md-tabs__link">
        
  
  
    
  
  Contact

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="FaaSr - Serverless workflows made easy" class="md-nav__button md-logo" aria-label="FaaSr - Serverless workflows made easy" data-md-component="logo">
      
  <img src="../assets/faasr_logo.jpg" alt="logo">

    </a>
    FaaSr - Serverless workflows made easy
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tutorial
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    User Documentation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    User Documentation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../prog_model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FaaSr workflow model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workflow_repo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Setting up the FaaSr-workflow repo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Creating functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Creating and editing workflows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functionexamples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Example workflows and functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../register_workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Registering workflows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../invoke_workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Invoking workflows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../logs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Retrieving logs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Obtaining an S3 bucket
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rank/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Concurrent actions and ranks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../conditional/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Conditional invocation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../invocationid/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Invocation IDs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dependences/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Package dependences
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../r_api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    R API reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../py_api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python API reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../credentials/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Creating cloud credentials
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../defaults/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Default values
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Advanced usage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Security best practices
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Dev Documentation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Dev Documentation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pull_requests/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PR Processes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Building containers
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Building containers
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#faasr-docker-repository" class="md-nav__link">
    <span class="md-ellipsis">
      
        FaaSr-Docker repository
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#secrets-needed" class="md-nav__link">
    <span class="md-ellipsis">
      
        Secrets needed
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-base-containers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Building base containers
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Building base containers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#building-python-base-container" class="md-nav__link">
    <span class="md-ellipsis">
      
        Building Python base container
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-rrocker-base-container" class="md-nav__link">
    <span class="md-ellipsis">
      
        Building R/Rocker base container
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-platform-specific-containers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Building platform-specific containers
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Building platform-specific containers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#github-actions" class="md-nav__link">
    <span class="md-ellipsis">
      
        GitHub Actions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#openwhisk" class="md-nav__link">
    <span class="md-ellipsis">
      
        OpenWhisk
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-lambda" class="md-nav__link">
    <span class="md-ellipsis">
      
        AWS Lambda
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#google-cloud" class="md-nav__link">
    <span class="md-ellipsis">
      
        Google Cloud
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slurm" class="md-nav__link">
    <span class="md-ellipsis">
      
        Slurm
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#customizing-dockerfiles" class="md-nav__link">
    <span class="md-ellipsis">
      
        Customizing Dockerfiles
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    About
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../community/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Community
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contact/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contact
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#faasr-docker-repository" class="md-nav__link">
    <span class="md-ellipsis">
      
        FaaSr-Docker repository
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#secrets-needed" class="md-nav__link">
    <span class="md-ellipsis">
      
        Secrets needed
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-base-containers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Building base containers
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Building base containers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#building-python-base-container" class="md-nav__link">
    <span class="md-ellipsis">
      
        Building Python base container
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-rrocker-base-container" class="md-nav__link">
    <span class="md-ellipsis">
      
        Building R/Rocker base container
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-platform-specific-containers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Building platform-specific containers
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Building platform-specific containers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#github-actions" class="md-nav__link">
    <span class="md-ellipsis">
      
        GitHub Actions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#openwhisk" class="md-nav__link">
    <span class="md-ellipsis">
      
        OpenWhisk
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-lambda" class="md-nav__link">
    <span class="md-ellipsis">
      
        AWS Lambda
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#google-cloud" class="md-nav__link">
    <span class="md-ellipsis">
      
        Google Cloud
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slurm" class="md-nav__link">
    <span class="md-ellipsis">
      
        Slurm
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#customizing-dockerfiles" class="md-nav__link">
    <span class="md-ellipsis">
      
        Customizing Dockerfiles
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="process-for-building-docker-containers">Process for building Docker containers</h1>
<h2 id="faasr-docker-repository">FaaSr-Docker repository</h2>
<p>The FaaSr/FaaSr-Docker repository contains the Dockerfiles and entry points needed to build containers for the different supported platforms. If you want to build your own custom containers, you can fork this repository and configure it to build containers with your own environment and publish them in your own container registry account(s)</p>
<h2 id="secrets-needed">Secrets needed</h2>
<p>When you fork this repository, you need to set up the following GitHub Actions repository secrets:</p>
<ul>
<li><code>DOCKERHUB_USERNAME</code>: user name of account to publish images to DockerHub</li>
<li><code>DOCKERHUB_TOKEN</code>: token to publish images to DockerHub</li>
<li><code>AWS_ACCESS_KEY_ID</code>: access key to publish images to Amazon ECR</li>
<li><code>AWS_SECRET_ACCESS_KEY</code>: secret key to publish images to Amazon ECR</li>
</ul>
<h2 id="building-base-containers">Building base containers</h2>
<p>Before building any platform-specific containers (e.g. for GH, AWS, GCP), you need to build the base container. The platform-specific containers all build from this base container.</p>
<h3 id="building-python-base-container">Building Python base container</h3>
<ul>
<li>In <code>Actions</code>, select <code>py-base-&gt;DockerHub</code></li>
<li>Click on <code>Run workflow</code></li>
<li>In <code>username:tag</code> to build from, typically you will leave the default (e.g. <code>python:3.13</code>)</li>
<li>In <code>name to be used for this base FaaSr image</code> you also typically leave the default, <code>base-python</code></li>
<li>In <code>FaaSr version tag</code>, enter the tag of the <code>FaaSr-Backend</code> repository to build from. Typically, this will be the current release of FaaSr, e.g. <code>2.1.0</code></li>
<li>Run the workflow; once completed, it will publish the image to your DockerHub account, e.g. <code>yourname/base-python:2.1.0</code></li>
</ul>
<h3 id="building-rrocker-base-container">Building R/Rocker base container</h3>
<ul>
<li>In <code>Actions</code>, select <code>rocker-base-&gt;DockerHub</code></li>
<li>Click on <code>Run workflow</code></li>
<li>In <code>username:tag</code> to build from, typically you will leave the default (e.g. <code>rocker/tidyverse:4.4</code>)</li>
<li>In <code>name to be used for this base FaaSr image</code> you also typically leave the default, <code>base-r</code></li>
<li>In <code>FaaSr version tag</code>, enter the tag of the <code>FaaSr-Backend</code> repository to build from. Typically, this will be the current release of FaaSr, e.g. <code>2.1.0</code></li>
<li>Run the workflow; once completed, it will publish the image to your DockerHub account, e.g. <code>yourname/base-r:2.1.0</code></li>
</ul>
<h2 id="building-platform-specific-containers">Building platform-specific containers</h2>
<p>Once you have successfully built the base containers for Python and/or R, you will be able to build the following platform-specific containers</p>
<h3 id="github-actions">GitHub Actions</h3>
<ul>
<li>Select Action <code>github-actions-&gt;GHCR</code></li>
<li>Click <code>Run workflow</code></li>
<li>In <code>user/name:tag of the base FaaSr image</code>, enter the DockerHub name of one of the image you created above, e.g. <code>yourname/base-python:2.1.0</code> or <code>yourname/base-r:2.1.0</code></li>
<li>In <code>name of the FaaS-specific image to build</code>, enter the name of the image. This <em>does not</em> include your account name or tag - e.g. for python the default names we use are: <code>github-actions-python</code> and for r <code>github-actions-r</code></li>
<li>In <code>FaaSr-py version</code> enter the same release number of the FaaSr-Backend used when building the base image, e.g. <code>2.1.0</code></li>
<li>In <code>GitHub repo to install FaaSr-py from</code> enter the repo to build the Backend from. Typically this is the main <code>faasr/FaaSr-Backend</code> repo, but you can build from your own repo as well (e.g. if have forked FaaSr-Backend to develop and test a new feature)</li>
<li>In <code>GitHub Container Repository (GHCR) to push image to</code> enter the name of your github account to publish the image to</li>
<li>Run the workflow; once completed, it will publish the image to your GHCR account, e.g. <code>ghcr.io/yourusername/github-actions-python:2.1.0</code></li>
</ul>
<h3 id="openwhisk">OpenWhisk</h3>
<ul>
<li>Select Action <code>openwhisk-&gt;DockerHub</code></li>
<li>Click <code>Run workflow</code></li>
<li>In <code>user/name:tag of the base FaaSr image</code>, enter the DockerHub name of one of the image you created above, e.g. <code>yourname/base-python:2.1.0</code> or <code>yourname/base-r:2.1.0</code></li>
<li>In <code>name of the FaaS-specific image to build</code>, enter the name of the image. This <em>does not</em> include your account name or tag - e.g. for python the default names we use are: <code>openwhisk-python</code> and for r <code>openwhisk-r</code></li>
<li>In <code>FaaSr-py version</code> enter the same release number of the FaaSr-Backend used when building the base image, e.g. <code>2.1.0</code></li>
<li>In <code>GitHub repo to install FaaSr-py from</code> enter the repo to build the Backend from. Typically this is the main <code>faasr/FaaSr-Backend</code> repo, but you can build from your own repo as well (e.g. if have forked FaaSr-Backend to develop and test a new feature)</li>
<li>Run the workflow; once completed, it will publish the image to your DockerHub account, e.g. <code>yourusername/github-actions-python:2.1.0</code></li>
</ul>
<p>There is also an arm64 build process available for OpenWhisk - simply follow similar steps to build the base and OpenWhisk images as above, but use <code>py-base-arm-&gt;DockerHub</code> and <code>openwhisk-arm-&gt;DockerHub</code> instead</p>
<h3 id="aws-lambda">AWS Lambda</h3>
<ul>
<li>Select Action <code>aws-lambda-&gt;ECR</code></li>
<li>Click <code>Run workflow</code></li>
<li>In <code>user/name:tag of the base FaaSr image</code>, enter the DockerHub name of one of the image you created above, e.g. <code>yourname/base-python:2.1.0</code> or <code>yourname/base-r:2.1.0</code></li>
<li>In <code>name of the FaaS-specific image to build</code>, enter the name of the image. This <em>does not</em> include your account name or tag - e.g. for python the default names we use are: <code>aws-lambda-python</code> and for r <code>aws-lambda-r</code></li>
<li>In <code>FaaSr-py version</code> enter the same release number of the FaaSr-Backend used when building the base image, e.g. <code>2.1.0</code></li>
<li>In <code>GitHub repo to install FaaSr-py from</code> enter the repo to build the Backend from. Typically this is the main <code>faasr/FaaSr-Backend</code> repo, but you can build from your own repo as well (e.g. if have forked FaaSr-Backend to develop and test a new feature)</li>
<li>In <code>AWS ECR region to push image to</code> enter the region of ECR to publish to</li>
<li>Run the workflow; once completed, it will publish the image to your DockerHub account, e.g. <code>yourECR/aws-lambda-python:2.1.0</code></li>
</ul>
<h3 id="google-cloud">Google Cloud</h3>
<ul>
<li>Select Action <code>gcp-&gt;DockerHub</code></li>
<li>Click <code>Run workflow</code></li>
<li>In <code>user/name:tag of the base FaaSr image</code>, enter the DockerHub name of one of the image you created above, e.g. <code>yourname/base-python:2.1.0</code> or <code>yourname/base-r:2.1.0</code></li>
<li>In <code>name of the FaaS-specific image to build</code>, enter the name of the image. This <em>does not</em> include your account name or tag - e.g. for python the default names we use are: <code>gcp-python</code> and for r <code>gcp-r</code></li>
<li>In <code>FaaSr-py version</code> enter the same release number of the FaaSr-Backend used when building the base image, e.g. <code>2.1.0</code></li>
<li>In <code>GitHub repo to install FaaSr-py from</code> enter the repo to build the Backend from. Typically this is the main <code>faasr/FaaSr-Backend</code> repo, but you can build from your own repo as well (e.g. if have forked FaaSr-Backend to develop and test a new feature)</li>
<li>Run the workflow; once completed, it will publish the image to your DockerHub account, e.g. <code>yourusername/gcp-python:2.1.0</code></li>
</ul>
<h3 id="slurm">Slurm</h3>
<ul>
<li>Select Action <code>slurm-&gt;DockerHub</code></li>
<li>Click <code>Run workflow</code></li>
<li>In <code>user/name:tag of the base FaaSr image</code>, enter the DockerHub name of one of the image you created above, e.g. <code>yourname/base-python:2.1.0</code> or <code>yourname/base-r:2.1.0</code></li>
<li>In <code>name of the FaaS-specific image to build</code>, enter the name of the image. This <em>does not</em> include your account name or tag - e.g. for python the default names we use are: <code>slurm-python</code> and for r <code>slurm-r</code></li>
<li>In <code>FaaSr-py version</code> enter the same release number of the FaaSr-Backend used when building the base image, e.g. <code>2.1.0</code></li>
<li>In <code>GitHub repo to install FaaSr-py from</code> enter the repo to build the Backend from. Typically this is the main <code>faasr/FaaSr-Backend</code> repo, but you can build from your own repo as well (e.g. if have forked FaaSr-Backend to develop and test a new feature)</li>
<li>Run the workflow; once completed, it will publish the image to your DockerHub account, e.g. <code>yourusername/slurm-python:2.1.0</code></li>
</ul>
<h2 id="customizing-dockerfiles">Customizing Dockerfiles</h2>
<p>If you need to customize your Dockerfiles with particular dependences, these can be found in the <code>faas_specific</code> folder. Edit as needed to add your dependences; you must not change the <code>WORKDIR</code>, <code>ARG</code>, <code>RUN</code>, <code>COPY</code>, <code>FROM</code> and <code>CMD</code> statements - you can only add dependences.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      FaaSr is funded in part by grants from the National Science Foundation (OAC-2450241 and OAC-2311124). Any opinions, findings, and conclusions or recommendations expressed in this material are those of the author(s) and do not necessarily reflect the views of the National Science Foundation.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.tabs"], "search": "../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>